<script setup lang="ts">
import { RouterLink, RouterView, useRoute } from 'vue-router'

const route = useRoute()

// âœ¨ ë¡œê·¸ì•„ì›ƒ ì²˜ë¦¬ í•¨ìˆ˜ ì¶”ê°€! (ìŠ¤í¬ë¦½íŠ¸ ì•ˆì—ì„œëŠ” localStorageë¥¼ ë°”ë¡œ ì“¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤)
const handleLogout = () => {
  localStorage.clear() // ë‚´ ì •ë³´ ì‹¹ ì§€ìš°ê¸°
  window.location.href = '/login' // ë¡œê·¸ì¸ í™”ë©´ìœ¼ë¡œ ê°•ì œ ì´ë™
}
</script>

<template>
  <header v-if="route.path !== '/login'">
    <nav>
      <RouterLink to="/">ğŸ  í™ˆ</RouterLink>
      <RouterLink to="/dashboard">âš™ï¸ ëŒ€ì‹œë³´ë“œ</RouterLink>
      <RouterLink to="/attendance">ğŸ“… ì˜¤ìš´ì™„ ì¸ì¦</RouterLink>

      <a href="#" @click.prevent="handleLogout" class="logout-link">
        ë¡œê·¸ì•„ì›ƒ ğŸšª
      </a>
    </nav>
  </header>

  <RouterView />
</template>

<style scoped>
/* ì „ì²´ ë ˆì´ì•„ì›ƒ ìŠ¤íƒ€ì¼ */
header {
  background-color: #333;
  padding: 1rem;
  text-align: center;
}

/* ê¸°ì¡´ ìŠ¤íƒ€ì¼ ìœ ì§€í•˜ê³  ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ ìŠ¤íƒ€ì¼ë§Œ ì¶”ê°€ */
.logout-link {
  color: #ff4d4f;
  margin-left: auto; /* ë©”ë‰´ë°” ì˜¤ë¥¸ìª½ ëìœ¼ë¡œ ë°€ì–´ë‚´ê¸° */
  font-weight: bold;
}
.logout-link:hover { color: #d9363e; }

nav {
  display: flex;
  justify-content: center;
  gap: 20px;
}

nav a {
  color: white;
  text-decoration: none;
  font-weight: bold;
  font-size: 1.2rem;
}

nav a:hover {
  color: #42b883; /* Vueì˜ ìƒì§•ìƒ‰ (ì´ˆë¡) */
}

/* í˜„ì¬ ë³´ê³  ìˆëŠ” ë©”ë‰´ ê°•ì¡° */
.router-link-active {
  color: #42b883;
  border-bottom: 2px solid #42b883;
}
</style>